{"version":3,"sources":["../../../scripts/models/ActionNotification.js"],"names":[],"mappings":"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","file":"ActionNotification.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc object\n * @name Models.ActionNotification\n *\n * @description This class wraps a list of ActionNotification payload into an object\n *\n * ##Dependencies\n *\n */\n\n// Define the constructor\nvar ActionNotification = function (json, RESTWrapperService) {\n\tthis.json = json;\n\tthis.RESTWrapperService = RESTWrapperService;\n};\n\nActionNotification.prototype = {\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.ActionNotification#getNotificationId\n\t * @methodOf Models.ActionNotification\n\t * @description Returns the Notification Id\n\t *\n\t * @returns {String} The Notification Id\n\t */\n\tgetNotificationId: function () {\n\t\treturn this.json.id;\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.ActionNotification#getEventType\n\t * @methodOf Models.ActionNotification\n\t * @description Returns the Event Type\n\t *\n\t * @returns {String} The Event Type\n\t */\n\tgetEventType: function () {\n\t\treturn this.json.type;\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.ActionNotification#getNotificationEvent\n\t * @methodOf Models.ActionNotification\n\t * @description Returns the Notification Event\n\t *\n\t * @returns {String} The Notification Event\n\t */\n\tgetNotificationEvent: function () {\n\t\tif (this.json.type === 'State') {\n\t\t\treturn {\n\t\t\t\tname: this.json['workflow-state'].title,\n\t\t\t\tid: this.json['workflow-state'].link.substr(this.json['workflow-state'].link.lastIndexOf('/') + 1)\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tname: this.json['workflow-transition'].title,\n\t\t\t\tid: this.json['workflow-transition'].link.substr(this.json['workflow-transition'].link.lastIndexOf('/') + 1)\n\t\t\t};\n\t\t}\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.ActionNotification#getNotificationUsers\n\t * @methodOf Models.ActionNotification\n\t * @description Returns the full list of Notification Users\n\t *\n\t * @returns {Array} The full list of Notification Users data\n\t */\n\tgetNotificationUsers: function () {\n\t\tvar that = this;\n\t\tvar userLink = this.json.users;\n\n\t\treturn this.RESTWrapperService.get(userLink.substr(1), null).then(function (usersObj) {\n\t\t\tif (_.isArray(usersObj)) {\n\t\t\t\tthat.userList = [];\n\t\t\t\tangular.forEach(usersObj, function (eachUsers, index) {\n\t\t\t\t\tthat.RESTWrapperService.get(eachUsers.link.substr(1), null).then(function (userObj) {\n\t\t\t\t\t\tthat.userList.push(userObj.displayName);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn that.userList;\n\t\t});\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.ActionNotification#getNotificationGroups\n\t * @methodOf Models.ActionNotification\n\t * @description Returns the full list of Notification Groups\n\t *\n\t * @returns {Array} The full list of Notification Groups data\n\t */\n\tgetNotificationGroups: function () {\n\t\tvar that = this;\n\t\tvar groupLink = this.json.groups;\n\n\t\treturn this.RESTWrapperService.get(groupLink.substr(1), null).then(function (groupObj) {\n\t\t\tthat.groupList = [];\n\t\t\tif (_.isArray(groupObj)) {\n\t\t\t\tangular.forEach(groupObj, function (eachGroup, index) {\n\t\t\t\t\tthat.groupList.push(eachGroup.title);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn that.groupList;\n\t\t});\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.ActionNotification#deleteActionNotification\n\t * @methodOf Models.ActionNotification\n\t * @description deletes the specific action notification\n\t *\n\t * @returns {Promise} The delete request promise\n\t */\n\tdeleteActionNotification: function () {\n\t\tvar that = this;\n\t\tvar options = {};\n\t\treturn this.RESTWrapperService.delete(this.json.__self__.substr(1), null, null, null, options);\n\t}\n};\n\nangular.module('plm360.models').factory('ActionNotification', [\n\t'RESTWrapperService',\n\t'EventService',\n\t'$q',\n\tfunction (RESTWrapperService, EventService, $q) {\n\t\tActionNotification.prototype.RESTWrapperService = RESTWrapperService;\n\t\tActionNotification.prototype.$q = $q;\n\t\treturn ActionNotification;\n\t}\n]);\n"]}