{"version":3,"sources":["../../../scripts/models/NamedRelationshipsItem.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;;AAab,IAAI,sBAAsB,GAAG,SAAzB,sBAAsB,CAAa,IAAI,EAAE;AAC5C,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;CACjB,CAAC;;AAEF,sBAAsB,CAAC,SAAS,GAAG;;;;;;;;;;AAUlC,aAAY,EAAE,wBAAY;AACzB,SAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;EAC5B;;;;;;;;;;AAUD,eAAc,EAAE,0BAAY;AAC3B,SAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACzC;;;;;;;;;;AAUD,cAAa,EAAE,yBAAY;AAC1B,MAAI,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACnD,SAAO,aAAa,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;EACjD;;;;;;;;;;AAUD,uBAAsB,EAAE,kCAAY;AACnC,MAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,GAAI,EAAE,CAAC;AACrE,MAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;AAC3C,SAAO,CAAC,KAAK,GAAG,OAAO,CAAA,CAAE,IAAI,EAAE,CAAC;EAChC;;;;;;;;;;AAUD,WAAU,EAAE,sBAAY;AACvB,SAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;EAC1B;;;;;;;;;;;;AAYD,WAAQ,iBAAU,QAAQ,EAAE;AAC3B,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,MAAI,OAAO,GAAG,EAAE,CAAC;;AAEjB,SAAO,IAAI,CAAC,kBAAkB,UAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAC,cAAc,EAAE,kBAAkB,EAAC,EAAE,OAAO,CAAC,CAAC;EACrH;CACD,CAAC;;AAEF,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAAC,cAAc,EAAE,oBAAoB,EACtG,UAAU,YAAY,EAAE,kBAAkB,EAAE;AAC3C,KAAI,MAAM,GAAG,EAAE,CAAC;AAChB,uBAAsB,CAAC,SAAS,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;;;AAGzE,aAAY,CAAC,MAAM,CAAC,qCAAqC,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE;AACrF,MAAI,KAAK,GAAG,IAAI,sBAAsB,EAAE,CAAC;AACzC,OAAK,UAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY;AACvC,eAAY,CAAC,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,aAAa,EAAE,IAAI,CAAC,CAAC;GACzF,EAAE,YAAY;AACd,eAAY,CAAC,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,aAAa,EAAE,KAAK,CAAC,CAAC;GAC1F,CAAC,CAAC;EACH,CAAC,CAAC;;AAEH,QAAO,sBAAsB,CAAC;CAC9B,CACD,CAAC,CAAC","file":"NamedRelationshipsItem.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc object\n * @name Models.NamedRelationshipsItem\n *\n * @description This class wraps a list of NamedRelationships payload into an object\n *\n * ##Dependencies\n *\n */\n\n// Define the constructor\nvar NamedRelationshipsItem = function (json) {\n\tthis.json = json;\n};\n\nNamedRelationshipsItem.prototype = {\n\t\n\t/**\n\t * @ngdoc method\n\t * @name Models.NamedRelationshipsItem#getItemTitle\n\t * @methodOf Models.NamedRelationshipsItem\n\t * @description Returns item title\n\t *\n\t * @returns {String} Item title\n\t */\n\tgetItemTitle: function () {\n\t\treturn this.json.item.title;\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.NamedRelationshipsItem#getWorkspaceId\n\t * @methodOf Models.NamedRelationshipsItem\n\t * @description Returns the workspace id.\n\t *\n\t * @returns {String} the workspace id.\n\t */\n\tgetWorkspaceId: function () {\n\t\treturn this.json.item.link.split('/')[4];\n\t},\n\t\n\t/**\n\t * @ngdoc method\n\t * @name Models.NamedRelationshipsItem#getResourceId\n\t * @methodOf Models.NamedRelationshipsItem\n\t * @description Returns the resource id.\n\t *\n\t * @returns {String} the resource id.\n\t */\n\tgetResourceId: function () {\n\t\tvar resourceParts = this.json.item.link.split('/');\n\t\treturn resourceParts[4] + '@' + resourceParts[6];\n\t},\n\n\t/**\n\t * @ngdoc method\n\t * @name Models.NamedRelationshipsItem#getItemDescriptorValue\n\t * @methodOf Models.NamedRelationshipsItem\n\t * @description Returns the item descriptor's value.\n\t *\n\t * @returns {String} the item descriptor's value.\n\t */\n\tgetItemDescriptorValue: function () {\n\t\tvar title = this.json.item.title ? (this.json.item.title + ' ') : '';\n\t\tvar version = this.json.item.version || '';\n\t\treturn (title + version).trim();\n\t},\n\t\n\t/**\n\t * @ngdoc method\n\t * @name Models.NamedRelationshipsItem#getItemUrn\n\t * @methodOf Models.NamedRelationshipsItem\n\t * @description Returns the item's urn.\n\t *\n\t * @returns {String} the item's urn.\n\t */\n\tgetItemUrn: function () {\n\t\treturn this.json.item.urn;\n\t},\n\t\n\t/**\n\t * @ngdoc method\n\t * @name Models.NamedRelationshipsItem#delete\n\t * @methodOf Models.NamedRelationshipsItem\n\t * @description Deletes this item\n\t *\n\t * @param {String} selfLink link from event service, use for identifying the item\n\t *\n\t * @returns {Promise} The delete request promise.\n\t */\n\tdelete: function (selfLink) {\n\t\tvar that = this;\n\t\tvar options = {};\n\n\t\treturn this.RESTWrapperService.delete(selfLink.substr(1), null, null, {'Content-Type': 'application/json'}, options);\n\t}\n};\n\nangular.module('plm360.models').factory('NamedRelationshipsItem', ['EventService', 'RESTWrapperService',\n\tfunction (EventService, RESTWrapperService) {\n\t\tvar models = {};\n\t\tNamedRelationshipsItem.prototype.RESTWrapperService = RESTWrapperService;\n\t\t\n\t\t// Delete\n\t\tEventService.listen('namedRelationshipsItem:*:deleteItem', function (event, selfLink) {\n\t\t\tvar model = new NamedRelationshipsItem();\n\t\t\tmodel.delete(selfLink).then(function () {\n\t\t\t\tEventService.send('namedRelationshipsItem:' + event.split(':')[1] + ':deleteDone', true);\n\t\t\t}, function () {\n\t\t\t\tEventService.send('namedRelationshipsItem:' + event.split(':')[1] + ':deleteDone', false);\n\t\t\t});\n\t\t});\n\t\t\n\t\treturn NamedRelationshipsItem;\n\t}\n]);\n"]}