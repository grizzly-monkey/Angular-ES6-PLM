{"version":3,"sources":["../../../scripts/directives/UserProfileSummaryDirective.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;;;;;;;;AAmBb,IAAI,kBAAkB,GAAG,MAAM,CAAC,SAAS,CAAC,oBAAoB,EAAE,CAC/D,UAAU,EACV,eAAe,EACf,cAAc,EACd,UAAU,QAAQ,EAAE,aAAa,EAAE,YAAY,EAAE;AAChD,QAAO;AACN,UAAQ,EAAE,GAAG;AACb,SAAO,EAAE,IAAI;AACb,aAAW,EAAE,kCAAkC;AAC/C,MAAI,EAAE,cAAU,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;AACtC,OAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;;AAE1B,OAAI,YAAY,GAAG,CAClB,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAC,EACrC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAC,EACtC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAC,EACtC,EAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAC,EAClC,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,aAAa,EAAC,EACpC,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,aAAa,EAAC,EACpC,EAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAC,EACrC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,WAAW,EAAC,EACpC,EAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,WAAW,EAAC,CACnC,CAAC;;AAEF,eAAY,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,GAAG,OAAO,EAAE,UAAU,KAAK,EAAE,GAAG,EAAE;AACrE,QAAI,sBAAsB,GAAG,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,UAAU,IAAI,EAAE;AACnE,YAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC1B,CAAC,CAAC,MAAM,CAAC;;AAEV,QAAI,sBAAsB,GAAG,CAAC,EAAE;;AAC/B,UAAK,CAAC,WAAW,GAAG,IAAI,CAAC;AACzB,UAAK,CAAC,WAAW,GAAG,IAAI,CAAC;KACzB;;;;;;;;AAQD,SAAK,CAAC,YAAY,GAAG,YAAY,CAAC;;;;;;;;AAQlC,SAAK,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;;;AAGtB,QAAI,aAAa,GAAG,GAAG,CAAC,eAAe,EAAE,CAAC;;;;;;;AAO1C,SAAK,CAAC,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC;IACvC,CAAC,CAAC;;;;;;;;AAQH,gBAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GAC9B;EACD,CAAC;CACF,CACD,CAAC,CAAC","file":"UserProfileSummaryDirective.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc directive\n * @name Directives.userProfileSummary\n * @restrict E\n *\n * @description This directive displays a specific user's profile\n *\n * ##Dependencies\n *  * - Requires {@link Services.UserProfileService}\n * @example\n * <doc:example>\n *   <doc:source>\n * \t\t<user-profile-summary user-id=\"42\"></user-profile>\n *   </doc:source>\n * </doc:example>\n */\n/* global plm360 */\nvar userProfileSummary = plm360.directive('userProfileSummary', [\n\t'$compile',\n\t'ModelsManager',\n\t'EventService',\n\tfunction ($compile, ModelsManager, EventService) {\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\treplace: true,\n\t\t\ttemplateUrl: 'partials/userProfileSummary.html',\n\t\t\tlink: function (scope, element, attrs) {\n\t\t\t\tvar userId = attrs.userId;\n\n\t\t\t\tvar profileItems = [\n\t\t\t\t\t{key: 'loginName', icon: 'md-person'},\n\t\t\t\t\t{key: 'address1', icon: 'md-pin-drop'},\n\t\t\t\t\t{key: 'address2', icon: 'md-pin-drop'},\n\t\t\t\t\t{key: 'city', icon: 'md-pin-drop'},\n\t\t\t\t\t{key: 'postal', icon: 'md-pin-drop'},\n\t\t\t\t\t{key: 'region', icon: 'md-pin-drop'},\n\t\t\t\t\t{key: 'country', icon: 'md-pin-drop'},\n\t\t\t\t\t{key: 'industry', icon: 'md-person'},\n\t\t\t\t\t{key: 'aboutMe', icon: 'md-person'}\n\t\t\t\t];\n\n\t\t\t\tEventService.listen('user:' + userId + ':done', function (event, obj) {\n\t\t\t\t\tvar profileItemsListLength = _.filter(profileItems, function (item) {\n\t\t\t\t\t\treturn obj.json[item.key];\n\t\t\t\t\t}).length;\n\n\t\t\t\t\tif (profileItemsListLength > 4) { // 4 because email is always displayed\n\t\t\t\t\t\tscope.collapsible = true;\n\t\t\t\t\t\tscope.isCollapsed = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @ngdoc property\n\t\t\t\t\t * @name Directives.userProfileSummary#profileItems\n\t\t\t\t\t * @propertyOf Directives.userProfileSummary\n\t\t\t\t\t * @description Specifies the items to be displayed in the user profile and their respective icons\n\t\t\t\t\t */\n\t\t\t\t\tscope.profileItems = profileItems;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @ngdoc property\n\t\t\t\t\t * @name Directives.userProfileSummary#data\n\t\t\t\t\t * @propertyOf Directives.userProfileSummary\n\t\t\t\t\t * @description User profile data\n\t\t\t\t\t */\n\t\t\t\t\tscope.data = obj.json;\n\n\t\t\t\t\t// profile image\n\t\t\t\t\tvar profileImages = obj.getProfileImage();\n\t\t\t\t\t/**\n\t\t\t\t\t * @ngdoc property\n\t\t\t\t\t * @name Directives.userProfileSummary#avatarSrc\n\t\t\t\t\t * @propertyOf Directives.userProfileSummary\n\t\t\t\t\t * @description The URL of the user's avatar image\n\t\t\t\t\t */\n\t\t\t\t\tscope.avatarSrc = profileImages.medium;\n\t\t\t\t});\n\n\t\t\t\t/**\n\t\t\t\t* @ngdoc property\n\t\t\t\t* @name Directives.userProfileSummary#userObj\n\t\t\t\t* @propertyOf Directives.userProfileSummary\n\t\t\t\t* @description The Promise resolving to user object providing information about the user\n\t\t\t\t*/\n\t\t\t\tModelsManager.getUser(userId);\n\t\t\t}\n\t\t};\n\t}\n]);\n"]}